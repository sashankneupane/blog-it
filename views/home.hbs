<link rel="stylesheet" href="/styles.css" />

<section class="bg-red-100 dark:bg-gray-900 m-0 border-red-200 border-t-2">
  <div class="mx-auto">
    <div class="py-8 lg:grid grid-cols-5 gap-8">
      <aside
        class="sticky px-4 lg:col-span-1 hover:shadow-2xl focus:shadow-2xl p-10 hover:cursor-pointer border-r-2 border-red-200 hover:border-none"
      >
        <form action="/home" method="GET">
          <h3 class="text-2xl font-mono mb-4">Filter Blogs</h3>
          <div class="mb-4">
            <input
              class="mb-4 rounded-xl h-8 w-64 px-4 bg-red-100 border-red-200 border-2"
              type="text"
              name="author"
              id="author"
              placeholder="Author Name"
            />
          </div>
          <div class="mb-4">
            <input
              class="mb-4 rounded-xl h-8 w-64 px-4 bg-red-100 border-red-200 border-2"
              type="text"
              name="keyword"
              id="keywords"
              placeholder="Search Keyword"
            />
          </div>
          <div class="mb-4">
            <select
              class="mb-4 rounded-xl h-8 w-64 px-4 bg-red-100 border-red-200 border-2"
              name="tag"
              id="tag"
            >
              <option value="">Any Tag</option>
              <!-- Populate this select dropdown with your available tags dynamically -->
              {{#each availableTags}}
                <option value="{{this}}">{{this}}</option>
              {{/each}}
            </select>
          </div>
          <button
            class="bg-red-300 text-black px-8 py-2 mt-4 rounded-xl hover:bg-red-400"
            type="submit"
          >
            Filter
          </button>
        </form>
      </aside>

      <div class="lg:col-span-3">
        <div class="mx-auto max-w-screen-sm text-center lg:mb-16 mb-8">
          <h2
            class="mb-4 text-3xl lg:text-4xl tracking-tight font-mono font-semibold text-gray-900 dark:text-white"
          >Recent Blogs</h2>
        </div>
        <div class="grid gap-8 lg:grid-cols-2" id="content">
          {{#each data.blogPosts}}
            <article
              class="p-6 bg-purple-100 rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700 hover:bg-purple-200 hover:shadow-xl hover:cursor-pointer"
            >
              <!-- Display tags for each blog post -->
              <div class="mb-5">
              </div>
              <div class="flex justify-between items-center mb-5 text-gray-500">
                <div>
                  {{#each tags}}
                    <a
                      class="inline-block px-3 py-1 mr-2 text-sm font-semibold text-gray-700 bg-pink-300 rounded-full"
                      href="/home?tag={{this}}"
                    >{{this}}</a>
                  {{/each}}
                  <a
                    class="inline-block px-3 py-1 mr-2 text-sm font-semibold text-gray-700 bg-pink-300 rounded-full"
                    href="/home?tag=defaultTag"
                  >defaultTag</a>
                </div>
                <span class="text-sm">14 days ago</span>
              </div>
              <h2
                class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"
              ><a href="/blog/{{_id}}">{{title}}</a></h2>
              <p
                class="mb-5 font-light text-gray-500 dark:text-gray-400"
              >{{content}}...</p>
              <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                  <img
                    class="w-7 h-7 rounded-full"
                    src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/avatars/jese-leos.png"
                    alt="Jese Leos avatar"
                  />
                  <span
                    class="font-medium dark:text-white"
                  >{{author.name}}</span>
                </div>
                <a
                  href="/blog/{{_id}}"
                  class="inline-flex items-center font-medium text-primary-600 dark:text-primary-500 hover:underline"
                >
                  Read more
                  <svg
                    class="ml-2 w-4 h-4"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg"
                  ><path
                      fill-rule="evenodd"
                      d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    ></path></svg>
                </a>
              </div>
            </article>
          {{/each}}
        </div>
      </div>

      <aside
        class="sticky lg:col-span-1 hover:border-none hover:shadow-2xl focus:shadow-2xl py-10 px-5 hover:cursor-pointer border-red-200 border-l-2"
      >
        <!-- Popular Tags in the Right Sidebar -->
        <div class="mb-4 shadow-red-100 font-mono">
          <h3 class="text-xl font-semibold mb-4">Popular Tags</h3>
          <ul class="flex flex-col justify-center">
            <l><a
                class="bg-red-300 p-2 my-16 px-4 rounded-xl hover:bg-red-400"
                href="/home?tag=Tag1"
              >Tag1</a></l>
            <li><a
                class="bg-red-300 p-2 my-16 px-4 rounded-xl hover:bg-red-400"
                href="/home?tag=Tag2"
              >Tag2</a></li>
            <li><a
                class="bg-red-300 p-2 my-16 px-4 rounded-xl hover:bg-red-400"
                href="/home?tag=Tag3"
              >Tag3</a></li>
          </ul>
        </div>

        <div class="mb-4 shadow-red-100 font-mono">
          <h3 class="text-xl font-semibold mb-4">Popular Authors</h3>
          <ul class="flex flex-col justify-center">
            <l><a
                class="bg-purple-300 p-2 my-16 px-4 rounded-xl hover:bg-purple-400"
                href="/home?author=Author1"
              >Author 1</a></l>
            <li><a
                class="bg-purple-300 p-2 my-16 px-4 rounded-xl hover:bg-purple-400"
                href="/home?author=Author2"
              >Author 2</a></li>
            <li><a
                class="bg-purple-300 p-2 my-16 px-4 rounded-xl hover:bg-purple-400"
                href="/home?author=Author3"
              >Author 3</a></li>
          </ul>
        </div>
      </aside>
    </div>
  </div>
</section>